<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EMIRDas: sdsu_emir_driver.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>sdsu_emir_driver.h</h1><a href="sdsu__emir__driver_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00064"></a>00064 <span class="preprocessor">#ifndef __SDSU_DRIVER_H__</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor">#define __SDSU_DRIVER_H__</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a><a class="code" href="sdsu__emir__driver_8h.html#bbe228dc746c1abb0036842597b8b183">00067</a> <span class="preprocessor">#define RTAI_CPU            1      </span>
<a name="l00068"></a><a class="code" href="sdsu__emir__driver_8h.html#efae9225b7899c9d60850d19bfd3c7b9">00068</a> <span class="preprocessor">#define SDSU_VENDOR_ID      0x1057 </span>
<a name="l00069"></a><a class="code" href="sdsu__emir__driver_8h.html#6791280b2d5b1ec768e765e57632e088">00069</a> <span class="preprocessor">#define SDSU_DEVICE_ID      0x1801 </span>
<a name="l00070"></a><a class="code" href="sdsu__emir__driver_8h.html#0e6cceb0eb5130e5c57acc68da61b411">00070</a> <span class="preprocessor">#define SDSU_PCI_MEMSIZE    16384  </span>
<a name="l00072"></a>00072 <span class="preprocessor">#ifndef SDSU_MAJOR</span>
<a name="l00073"></a><a class="code" href="sdsu__emir__driver_8h.html#5aad32b12e130b28a53ebc174bb95ec0">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_MAJOR          0      </span>
<a name="l00074"></a>00074 <span class="preprocessor">#endif</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a>00076 
<a name="l00078"></a><a class="code" href="sdsu__emir__driver_8h.html#6d92bd36f08e652a25e9f41b224e051e">00078</a> <span class="preprocessor">#define IRQs { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 15, 17, 18, 19, 20, 21, 22, 23, 24, 25 ,26, 27, 28, 29, 30, 31 }</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="sdsu__emir__driver_8h.html#cc463af24b71a56d368a7cd24f16159f">00080</a> <span class="preprocessor">#define SDSU_STACK_SIZE     2000</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span>
<a name="l00082"></a><a class="code" href="sdsu__emir__driver_8h.html#5a112cf531d8e8b166925ce7a9683ac4">00082</a> <span class="preprocessor">#define SDSU_DATA_PRIORITY  0</span>
<a name="l00083"></a><a class="code" href="sdsu__emir__driver_8h.html#8b006ab4d4926c77ad229b8c6c7f2aad">00083</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_PCI_PRIORITY   1</span>
<a name="l00084"></a><a class="code" href="sdsu__emir__driver_8h.html#df2dfdc44905e439e01dd8e44634a7b0">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_TIME_PRIORITY  2</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a><a class="code" href="sdsu__emir__driver_8h.html#9c8ee27293f39084b351d232cd12b1e3">00086</a> <span class="preprocessor">#define SDSU_TIME_CMD_MEM   "timecmd"</span>
<a name="l00087"></a><a class="code" href="sdsu__emir__driver_8h.html#2cc3087dacd1524fe553f7c35dbfa99a">00087</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_TIME_REPLY_MEM "timereply"</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>
<a name="l00089"></a><a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">00089</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a>;
<a name="l00090"></a>00090 <span class="comment">/* Initialises the VxWorks SDSU driver */</span>
<a name="l00091"></a>00091 <span class="keyword">extern</span> <a class="code" href="structSDSU__CONTEXT.html">SDSU_CONTEXT</a> *<a class="code" href="sdsu__emir__driver_8h.html#0ebc2b3d406447f146300a5879a5c07f">sdsu_init</a>(<span class="keywordtype">int</span> device);
<a name="l00092"></a>00092 <span class="comment">/* Cleans up VxWorks SDSU driver resources when it is removed from the system */</span>
<a name="l00093"></a>00093 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="sdsu__emir__driver_8h.html#982bc08ea326240b7bf06447d95ff25f">sdsu_cleanup</a>(<span class="keywordtype">void</span>);
<a name="l00094"></a>00094 
<a name="l00096"></a><a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692a">00096</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00097"></a>00097    <a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692af2a567d697f379eeb8aba0a76dc0199d">GO_TO_SLEEP</a> = 1,
<a name="l00098"></a>00098    <a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692a6fccb35c4fe24f101554cac9665370af">SEND_CMD_FROM_DATA</a>,
<a name="l00099"></a>00099    <a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692a1eed6104c33ef9e6e3d919852b344a5b">SEND_CMD_FROM_TIME</a>,
<a name="l00100"></a>00100    <a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692af33126241b5034848235f1e0bffe99c9">SEND_CMD_FROM_USER</a>
<a name="l00101"></a>00101 } <a class="code" href="sdsu__emir__driver_8h.html#254683f15dcd031ecd2fb76b1a4b692a">SDSU_ACTION</a>;
<a name="l00102"></a>00102 
<a name="l00103"></a><a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0">00103</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00104"></a>00104    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df04d254f2f197daa19ad4b17089504b4bb">SDSU_DATA</a> = 1,
<a name="l00105"></a>00105    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0f1212247b7559f1f13df5592d1673c56">SDSU_IRQ</a>,
<a name="l00106"></a>00106    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0774fcb6f5bf88c53bb56db720504d5ac">SDSU_TASK</a>,
<a name="l00107"></a>00107    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0e10f6a947c9cd351bb60a0b2e4cc2881">SDSU_SEMAPHORE</a>,
<a name="l00108"></a>00108    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df000275d95350f036d763f25f941779b9c">SDSU_FIFO</a>,
<a name="l00109"></a>00109    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0c56a6beca3e1aa271f159a6a5e041f32">SDSU_DEVICE</a>,
<a name="l00110"></a>00110    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0655bfe7f36622417ed9551b0b834cc83">SDSU_KERNEL_MEM</a>,
<a name="l00111"></a>00111    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df09c1e083ee8aa2b19464b90a56ee16490">SDSU_BIGPHYS_MEM</a>,
<a name="l00112"></a>00112    <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0db02561ec08b56e8da1e94fd43b0d07c">SDSU_SHARED_MEM</a>
<a name="l00113"></a>00113 } <a class="code" href="sdsu__emir__driver_8h.html#1b5b51ac2a72dca661e4b2dea6d63df0">SDSU_RESOURCE_TYPE</a>;
<a name="l00114"></a>00114 
<a name="l00119"></a><a class="code" href="structPCI__REG.html">00119</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00120"></a><a class="code" href="structPCI__REG.html#b90197dcec245ca9c9291f7c3af670bc">00120</a>     <span class="keyword">volatile</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> unused[4];        
<a name="l00121"></a><a class="code" href="structPCI__REG.html#939301a80356026be75328a9b53bb840">00121</a>     <span class="keyword">volatile</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> hctr;         
<a name="l00122"></a><a class="code" href="structPCI__REG.html#bf3cff3fcb421b14b365042a302aa148">00122</a>     <span class="keyword">volatile</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> hstr;         
<a name="l00123"></a><a class="code" href="structPCI__REG.html#46638446aac5c2129bd9d82d376af890">00123</a>     <span class="keyword">volatile</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> hcvr;         
<a name="l00124"></a><a class="code" href="structPCI__REG.html#b1150e055355ac4ac868dc8503956211">00124</a>     <span class="keyword">volatile</span> <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> htxr_hrxs[16377]; 
<a name="l00126"></a>00126 } <a class="code" href="structPCI__REG.html">PCI_REG</a>;
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="sdsu__emir__driver_8h.html#8209c7cdb94e502dd4c3665a14218992">00128</a> <span class="preprocessor">#define SDSU_HCTR      0x0010</span>
<a name="l00129"></a><a class="code" href="sdsu__emir__driver_8h.html#a12b97415475b74d16f7c148c84b1172">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_HSTR      0x0014</span>
<a name="l00130"></a><a class="code" href="sdsu__emir__driver_8h.html#77a038214cee59afc7ba73837cc1599c">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_HCVR      0x0018</span>
<a name="l00131"></a><a class="code" href="sdsu__emir__driver_8h.html#9c6ff877cfe05691f3d67d44795f6d4f">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define SDSU_HTXR_HRXS 0x001C</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>
<a name="l00133"></a><a class="code" href="sdsu__emir__driver_8h.html#869689fb9bbac509f666cf35f7e040ac">00133</a> <span class="preprocessor">#define NFY     0x004e4659</span>
<a name="l00134"></a><a class="code" href="sdsu__emir__driver_8h.html#caba73993d2c403abed4bbab07d3fa3e">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define DA      0x00004441</span>
<a name="l00135"></a><a class="code" href="sdsu__emir__driver_8h.html#04799eab8ce985dc1b74a1df3118f48c">00135</a> <span class="preprocessor"></span><span class="preprocessor">#define RP      0x00005250</span>
<a name="l00136"></a><a class="code" href="sdsu__emir__driver_8h.html#4ef24a6546e5ef48f71d12b9011917e5">00136</a> <span class="preprocessor"></span><span class="preprocessor">#define REP     0x00524550</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00139"></a><a class="code" href="sdsu__emir__driver_8h.html#8a760ab8636adb9997ae2302e9c36066">00139</a> <span class="preprocessor">#define HSTR_HRRQ_MASK 0x4</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a><a class="code" href="sdsu__emir__driver_8h.html#f5a8887648d6e8b83c20e4f1d234b765">00141</a> <span class="preprocessor">#define HSTR_HTRQ_MASK 0x2</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a><a class="code" href="sdsu__emir__driver_8h.html#7c1f7aa460f532afda3b9e15ac666d9c">00143</a> <span class="preprocessor">#define HSTR_TRDY_MASK 0x1</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="sdsu__emir__driver_8h.html#6bb5899b171a5b65cad7a0478f312877">00145</a> <span class="preprocessor">#define HCVR_INT_RST   0x8073</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a><a class="code" href="sdsu__emir__driver_8h.html#7164c0d576702783039a819c48a06cec">00147</a> <span class="preprocessor">#define HCVR_INT_DON   0x8075</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="comment">/* Host Command Vector Register byte swap enable command */</span>
<a name="l00149"></a><a class="code" href="sdsu__emir__driver_8h.html#5900e2549affbcc799590ca9df3a3b57">00149</a> <span class="preprocessor">#define HCVR_BYTE_SWAP_ENABLE 0x8089</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span><span class="comment">/* Host Command Vector Register byte swap disable command */</span>
<a name="l00151"></a><a class="code" href="sdsu__emir__driver_8h.html#b4434b9e7cb5c4e5b0228c6911d52c80">00151</a> <span class="preprocessor">#define HCVR_BYTE_SWAP_DISABLE 0x808B</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00154"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html">00154</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00155"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html#0176fcdabc2bbe0d8edbba300c61bcde">00155</a>     <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> cmd;        <span class="comment">/* MODIFICADO char cmd[3]; */</span>
<a name="l00156"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html#c093899ab91b714b43d2faf9fa6414da">00156</a>     <span class="keywordtype">int</span> arg1;
<a name="l00157"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html#642f5facebd38018b3e43dd81a5ac4d7">00157</a>     <span class="keywordtype">int</span> arg2;
<a name="l00158"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html#fde33d720098f16c96c15c0c640cb16a">00158</a>     <span class="keywordtype">int</span> arg3;
<a name="l00159"></a><a class="code" href="structSDSU__PCI__CMD__DEF.html#461c3309d9f2f6eb62083ed98ce1d0af">00159</a>     <a class="code" href="sdsu__emir__driver_8h.html#2caf5cd7bcdbe1eefa727f44ffb10bac">u32</a> hcvr_vector;
<a name="l00160"></a>00160 } <a class="code" href="structSDSU__PCI__CMD__DEF.html">SDSU_PCI_CMD_DEF</a>;
<a name="l00161"></a>00161 
<a name="l00163"></a><a class="code" href="structSDSU__TIME__CMD__DEF.html">00163</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00164"></a><a class="code" href="structSDSU__TIME__CMD__DEF.html#4653d35bf2195a769f1ff2b4915c85a6">00164</a>     <span class="keywordtype">char</span> cmd[3];
<a name="l00165"></a><a class="code" href="structSDSU__TIME__CMD__DEF.html#1c9becc40a56c1f2967860642a4c14b2">00165</a>     <span class="keywordtype">int</span> arg1;
<a name="l00166"></a><a class="code" href="structSDSU__TIME__CMD__DEF.html#f855ddf30ef15153a23b207e75073d00">00166</a>     <span class="keywordtype">int</span> arg2;
<a name="l00167"></a>00167 } <a class="code" href="structSDSU__TIME__CMD__DEF.html">SDSU_TIME_CMD_DEF</a>;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="preprocessor">#endif </span><span class="comment">/* __SDSU_DRIVER_H__ */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Dec 20 12:48:05 2013 for EMIRDas by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
